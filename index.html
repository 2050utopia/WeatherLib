<!DOCTYPE html>
<html><head>
  
  <meta charset="utf-8">

  
  <meta http-equiv="X-UA-Compatible" content="chrome=1">

  
  <meta name="description" content="Weatherlib : Android Weather Library. Weather API, parse weather data from yahoo! weather, openweathermap, weatherunderground, forecastio Open source library for android">

  
  <meta content="android weather, weather api,code,source,weather,weather library,yahoo! weather, weatherunderground,api,android weather,android app,open source library" name="keywords">

  
  <meta content="https://plus.google.com/111119552788205366558" name="author">

  
  <meta content="https://plus.google.com/111119552788205366558" name="publisher">

  
  <meta name="google-site-verification" content="2gOcYkpKozlNli7dQdtWHFue5qWjPw7YCynvKKb9Xkk">

  
  <link rel="stylesheet" href="./stylesheets/bootstrap-combined.min.css">

  
  <link rel="stylesheet" href="./stylesheets/site.css">

  
  <link rel="stylesheet" href="./stylesheets/bjqs.css">

  
  <link href="http://fonts.googleapis.com/css?family=Roboto:400,300italic,100,100italic,300" rel="stylesheet" type="text/css">

  
  <script src="./javascripts/jquery-1.7.1.min.js"></script>
  
  <script src="./javascripts/bjqs-1.3.min.js"></script>
  
  <script src="./javascripts/jquery.smooth-scroll.min.js"></script>
  <title>Weatherlib</title>

  
</head><body>
<header> </header>
<div class="container">
<div class="row">
<div class="span1" style="margin-top: 5px;"> <a href="https://plus.google.com/communities/117946761543584564970" target="_blank"><img class="img-circle" src="images/weatherlib_icon.png" alt="Weather library"></a> </div>
<div class="span5">
<h1 style="">Weatherlib</h1>
</div>
<div class="span6">
<menu>
<ul>
  <li><a href="#starthere" class="menu download">Latest version <strong>1.5.1</strong></a></li>
  <li><a href="https://github.com/survivingwithandroid/WeatherLib" data-title="View GitHub Project" class="menu github"><img src="images/icon-github.png" alt="GitHub"></a></li>
</ul>
</menu>
</div>
</div>
<section id="subtitle"> </section>
<div class="container">
<div class="row">
<div class="span12">
<h2>Android Weather library: build weather based app easily</h2>
</div>
</div>
</div>
<section id="body"></section>
<div class="container">
<div class="row">
<div class="span9">
<h3 id="overview">Overview</h3>
<p> <b>Weatherlib</b> is an Android library that helps developer to
create weather app easily and fast. With this lib you can focus only on
the app development without worrying about extracting information from
weather provider or handling request/response. The WeatherLib handles
HTTP request and response in a separate thread so you don't have to
handle them by yourself and at the same time you don't have to worry
about ANR. The library can connect to several weather provider using a
specific protocol and it can create the right request and parse the
response. The most important thing is that you can change your weather
provider without changing a line of code in your app because the
library abstracts specific protocol implementation providing the
weather information in the same way indipendently from the weather
provider chosen. </p>
<h3 id="features">Main features</h3>
<p> These are the main features provided by the WeatherLib: </p>
<ul>
  <li> Remote service invocation </li>
  <li>Handling HTTP requests and response in a separate thread respect
to the main Android thread, so that you don't have to worry about ANR
(Application Not Responding) problems</li>
  <li>
Implement specific protocol to extract information from remote weather
server</li>
  <li>Querying the city using name pattern</li>
  <li>Querying the city using geographic coordinates</li>
  <li>Querying actual weather condition</li>
  <li>Querying forecast weather condition</li>
  <li>Querying historical weather condition</li>
  <li>Retrieve default weather condition icon for each weather provider</li>
  <li>Abstract app implementation from the specific weather provider
selected, so that you can reuse the same app with different weather
provider</li>
  <li>Handling connection errors and parsing errors</li>
  <li>Implementing a notifition/listener mechanism so that your
requests don't get locked while the library is processing the response
or while the server is contacted</li>
  <li>Getting radar images</li>
  <li>You can easily extend the lib and implement your weather provider</li>
</ul>
<h3 id="providers">Weather provider</h3>
<p> The library supports the following weather provider </p>
<ul>
  <li><a href="http://www.openweathermap.org" target="_blank">Openweathermap</a></li>
  <li><a href="http://www.wunderground.com/weather/api" target="_blank">Weather
Underground</a></li>
  <a href="http://www.wunderground.com/weather/api" target="_blank"> </a>
  <li><a href="https://developer.yahoo.com/weather/" target="_blank">Yahoo!
Weather</a></li>
  <li><a href="https://developer.forecast.io/" target="_blank">Forecast.io</a></li>
</ul>
<h3 id="starthere">Getting started</h3>
<p> Starting from 1.5.0, many things are changed regarding the way they
client is built. If you use a previous version please read <a href="#oldversion">Version 1.4.0 and before</a>.</p>
<p>First, we have to instatiate the builder:</p>

<pre class="prettyprint">WeatherClient client = builder.attach(getActivity())<br>            .provider(new ForecastIOProviderType())<br>            .httpClient(com.survivingwithandroid.weather.lib.client.okhttp.WeatherDefaultClient.class)<br>            .config(config)<br>            .build();</pre>
<p> In this new way we use use a builder to create the <code>Weatherclient</code>.
At line 2, we set the Weather provider: as you already know there are
four different weather provider supported by now by the lib:</p>
<ul>
  <li>Openweathermap -&gt; <code>OpenweathermapProviderType</code></li>
  <li>Yahoo! Weather -&gt; <code>YahooWeatherProviderType</code></li>
  <li>Weatherundergroung -&gt; <code>WeatherundergroundProviderType</code></li>
  <li>Forecast.io -&gt; <code>ForecastIOProviderType</code></li>
</ul>
<p> At line 3 we set the HTTP client that the library uses to connect
to the remote server: there a three different clients supported by the
lib:</p>
<ul>
  <li><a href="https://android.googlesource.com/platform/frameworks/volley" target="_blank">Volley Client</a> -&gt; <code>com.survivingwithandroid.weather.lib.client.volley.WeatherClientDefault</code></li>
(available from 1.0 version)
  <li><a href="http://square.github.io/okhttp/" target="_blank">OkHttp
Client</a> -&gt; <code>com.survivingwithandroid.weather.lib.client.okhttp.WeatherClientDefault</code></li>
(available from 1.5 version)
  <li>Standard client -&gt; <code>com.survivingwithandroid.weather.lib.StandardHttpClient</code></li>
(available from 1.0 version)
</ul>
<p> <strong>One important aspect we must notice is that the first two
client are asynchronous client, while the last one is synchronous.</strong>
</p>
<p>According to the typpe of the client you choose you have to
introduce different dependencies:</p>
<p><i>Volley</i>:</p>
<pre class="prettyprint">dependencies {					<br>	compile 'com.survivingwithandroid:weatherlib:1.5.1'<br>	compile 'com.survivingwithandroid:weatherlib_volleyclient:1.5.1'<br>}<br></pre>
<p><i>OkHttp</i>:</p>
<pre class="prettyprint">dependencies {					<br>	compile 'com.survivingwithandroid:weatherlib:1.5.1'<br>	compile 'com.survivingwithandroid:weatherlib_okhttpclient:1.5.1'<br>}<br></pre>
<p><i>Standard client</i>:</p>
<pre class="prettyprint">dependencies {					<br>	compile 'com.survivingwithandroid:weatherlib:1.5.1'	<br>}<br></pre>
<h4 id="oldversion">Version 1.4.0 and before</h4>
<p> Starting from version 1.4.0 the libray is built by two modules: the
first module is the core module that provides the main features like
weather provider protocol implementation and a simple HTTP client based
on <code>HttpURLConnection</code> The other module optional is the
HTTP client that is based on Volley library. So if you don't want to
use volley you don't have to include this module. If you use Android
Studio to build the app you can simply add this two lines to the gradle
file:</p>
<pre class="prettyprint">dependencies {					<br>	compile 'com.survivingwithandroid:weatherlib:1.4.0'<br>	compile 'com.survivingwithandroid:weatherlib_volleyclient:1.4.0'<br>}<br></pre>
<p>Almost finished. There are some other basic steps to do before using
the lib:</p>
<pre class="prettyprint">WeatherClient client = WeatherClientDefault.getInstance(); // initialize the client</pre>
<p>If we use Volley client the next step is:</p>
<pre class="prettyprint">client.init(ctx); // Ctx is the Context</pre>
<p>Now we have to instantiate the provider we want to use:</p>
<pre class="prettyprint">IWeatherProvider provider = null;<br>try {<br>	//provider = WeatherProviderFactory.createProvider(new YahooProviderType(), config);<br>	provider = WeatherProviderFactory.createProvider(new OpenweathermapProviderType(), config);<br>	//provider = WeatherProviderFactory.createProvider(new WeatherUndergroundProviderType(), config);<br>	client.setProvider(provider);<br>}<br>catch (Throwable t) {    <br>	// There's a problem<br>}<br></pre>
<h4>Configuration</h4>
<p> To configure our client we can use <code>WeatherConfig</code>:</p>
<pre class="prettyprint">WeatherConfig config = new WeatherConfig();<br>config.unitSystem = WeatherConfig.UNIT_SYSTEM.M;<br>config.lang = "en"; // If you want to use english<br>config.maxResult = 5; // Max number of cities retrieved<br>config.numDays = 6; // Max num of days in the forecast<br>	</pre>
<p>and to update the configuration in our client and provider:</p>
<pre class="prettyprint">client.updateWeatherConfig(config);</pre>
<h4>Permissions in Manifest</h4>
<p>You should add these lines to your <code>Manifest.xml</code> so
that the lib can connect to internet</p>
<pre>&lt;uses-permission android:name="android.permission.INTERNET"/&gt;<br>&lt;uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /&gt;	<br></pre>
<p>If you want to have more information please give a look at the <a href="./tutorial.html">Tutorial</a> </p>
<h3 id="eclipse">Eclipse users</h3>
<p> The project is built using Android Studio, anyway if you want to
use the lib with Eclipse you can download the library jar <a href="https://github.com/survivingwithandroid/WeatherLib/tree/master/lib/release">here</a>
</p>
<p> </p>
<h3 id="app">App</h3>
<p> To help you to have an idea about the library i created a demo app
that can be used as guide. Here there are some screenshots:</p>
<center>
<div id="banner-fade"><!-- start Basic Jquery Slider -->
<ul class="bjqs">
  <li><img src="images/demo/android_weatherapp_weather.png" title="Automatically generated caption"><br>
  <br>
</li>
  <li><img src="images/demo/android_weatherapp_forecast.png" title="Automatically generated caption"><br>
  <br>
</li>
  <li><img src="images/demo/android_weatherapp_search_city.png" title="Automatically generated caption"><br>
  <br>
</li>
  <li><img src="images/demo/android_weatherapp_settings.png" title="Automatically generated caption"><br>
  <br>
</li>
</ul>
</div>
</center>
<p>&nbsp;</p>
<p> The screenshots below shown my WeatherApp in beta version:</p>
<center>
<div id="banner-fade1"><!-- start Basic Jquery Slider -->
<ul class="bjqs">
  <li><img src="images/app/s4_1.png" title="Automatically generated caption"><br>
  <br>
</li>
  <li><img src="images/app/s4_2.png" title="Automatically generated caption"><br>
  <br>
</li>
  <li><img src="images/app/s4_3.png" title="Automatically generated caption"><br>
  <br>
</li>
</ul>
</div>
</center>
<p>&nbsp;</p>
<p>If you want to test the app you have to join the <a href="https://plus.google.com/communities/117946761543584564970" target="_blank">G+ Community</a> and then download the app in beta
version</p>
<h3 id="contribute">Contribute</h3>
<p> The library source code is free so that everyone that wants to
contribute to the library is welcome.If you want to contribute to the
library you can use github and pull a new request so that I can merge
your code. If you find bugs in the code you can open an issue on github
or contact me. In case you use the library and you are satisfied with
it I would like you could send some screenshots of the app you created.
If someone wants to contribute freely to the library providing a nice
logo I would be very happy. </p>
<h3 id="license">License</h3>
<pre>Copyright 2012-2014 Francesco Azzola (Surviving with Android)<br><br>Licensed under the Apache License, Version 2.0 (the "License");<br>you may not use this file except in compliance with the License.<br>You may obtain a copy of the License at<br><br>   http://www.apache.org/licenses/LICENSE-2.0<br><br>Unless required by applicable law or agreed to in writing, software<br>distributed under the License is distributed on an "AS IS" BASIS,<br>WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>See the License for the specific language governing permissions and<br>limitations under the License.<br></pre>
</div>
<div class="span3">
<div class="content-nav affix" data-spy="affix" data-offset-top="80">
<ul class="nav nav-tabs nav-stacked primary">
  <li><a href="#overview">Overview</a></li>
  <li><a href="#features">Main features</a></li>
  <li><a href="#providers">Weather provider</a></li>
  <li><a href="#starthere">Getting started</a></li>
  <li><a href="#eclipse">Eclipse users</a></li>
  <li><a href="#app">App</a></li>
  <li><a href="#license">License</a></li>
</ul>
<ul class="nav nav-pills nav-stacked secondary">
  <li><a href="javadoc/index.html">Javadoc</a></li>
  <li>Travis-ci:<a href="https://travis-ci.org/survivingwithandroid/WeatherLib"><img src="https://travis-ci.org/survivingwithandroid/WeatherLib.svg?branch=master" alt="Build status"></a></li>
</ul>
</div>
</div>
</div>
<div class="row" style="height: 80px;">
<ul class="pager">
  <li><a href="./tutorial.html">Tutorial</a></li>
</ul>
</div>
</div>
<div class="container"> <footer> </footer>
<div class="row"> <span class="12">
<center>
<h6>Project maintained by Francesco Azzola</h6>
</center>
</span> </div>
<div class="row">
<div class="span3">
<h4>Info</h4>
<ul>
  <li><a href="mailto:survivingwithandroid@gmail.com">Contact me</a></li>
  <li><a href="https://github.com/survivingwithandroid">My Github
Projects</a></li>
  <li><a href="https://github.com/survivingwithandroid/WeatherLib/wiki/Tutorial">Wiki</a></li>
</ul>
</div>
<div class="span3">
<h4>Social</h4>
<ul>
  <li><a href="http://plus.google.com/+FrancescoAzzola" target="_blank">Follow
me</a></li>
  <li><a href="https://plus.google.com/communities/117946761543584564970">Join
the G+ Weather community</a></li>
  <li><a href="http://it.linkedin.com/in/francescoazzola">Linkedin
profile</a></li>
</ul>
</div>
<div class="span3">
<h4>Useful links</h4>
<ul>
  <li><a href="http://openweathermap.org/" target="_blank">Openweathermap</a></li>
  <li><a href="https://developer.yahoo.com/weather/" target="_blank">Yahoo!
Weather</a></li>
  <li><a href="http://www.wunderground.com/weather/api/" target="_blank">Weather
underground</a></li>
  <li><a href="http://forecast.io/" target="_blank">Forecast.io</a></li>
</ul>
</div>
<div class="span3">
<h4>Blog</h4>
<ul>
  <li><a href="http://www.survivingwithandroid.com" target="_blank">Surviving
with android blog</a></li>
</ul>
</div>
</div>
</div>
<script>
	
        jQuery(document).ready(function($) {

		

        // Use smooth-scroll for internal links.
        $('a').smoothScroll();

          $('#banner-fade').bjqs({
            height      : 640,
            width       : 384,
            responsive  : true,
			usecaptions   : false,
			showcontrols :  false,
			showmarkers : false
          });

          $('#banner-fade1').bjqs({
            height      : 640,
            width       : 384,
            responsive  : true,
			usecaptions   : false,
			showcontrols :  false,
			showmarkers : false
          });

        });		
     
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51637300-1', 'survivingwithandroid.github.io');
  ga('send', 'pageview');

  
</script> </div>

</body></html>